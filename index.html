<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFL Best/Worst Pool Leaderboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .leaderboard-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        .leaderboard-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }

        .leaderboard-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .leaderboard-table tr:hover {
            background: #e3f2fd;
        }

        .position {
            font-weight: bold;
            color: #667eea;
        }

        .best-winner {
            background: #e8f5e8 !important;
            border-left: 4px solid #4CAF50;
            font-weight: bold;
        }

        .worst-winner {
            background: #fff3e0 !important;
            border-left: 4px solid #ff9800;
            font-weight: bold;
        }

        .teams-list {
            font-size: 0.9em;
            color: #666;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 2px solid #eee;
        }

        .stat-card h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-card .value {
            font-size: 2em;
            font-weight: bold;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèà NFL Best/Worst Pool</h1>
            <p>Draft teams and win with either the most wins OR most losses!</p>
        </div>

        <div class="content">
            <div class="stats" id="statsContainer"></div>

            <table class="leaderboard-table" id="leaderboardTable">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Player</th>
                        <th>Total Wins</th>
                        <th>Total Losses</th>
                        <th>Teams</th>
                    </tr>
                </thead>
                <tbody id="leaderboardBody">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // NFL Team Records - UPDATE THESE EACH WEEK
        const teamRecords = {
            'Arizona Cardinals': { wins: 2, losses: 2 },
            'Atlanta Falcons': { wins: 2, losses: 2 },
            'Baltimore Ravens': { wins: 1, losses: 3 },
            'Buffalo Bills': { wins: 4, losses: 0 },
            'Carolina Panthers': { wins: 1, losses: 3 },
            'Chicago Bears': { wins: 2, losses: 2 },
            'Cincinnati Bengals': { wins: 2, losses: 1 },
            'Cleveland Browns': { wins: 1, losses: 3 },
            'Dallas Cowboys': { wins: 1, losses: 2 },
            'Denver Broncos': { wins: 1, losses: 2 },
            'Detroit Lions': { wins: 3, losses: 1 },
            'Green Bay Packers': { wins: 2, losses: 1 },
            'Houston Texans': { wins: 1, losses: 3 },
            'Indianapolis Colts': { wins: 3, losses: 1 },
            'Jacksonville Jaguars': { wins: 3, losses: 1 },
            'Kansas City Chiefs': { wins: 2, losses: 2 },
            'Las Vegas Raiders': { wins: 1, losses: 3 },
            'Los Angeles Chargers': { wins: 3, losses: 1 },
            'Los Angeles Rams': { wins: 3, losses: 1 },
            'Miami Dolphins': { wins: 0, losses: 3 },
            'Minnesota Vikings': { wins: 2, losses: 2 },
            'New England Patriots': { wins: 2, losses: 2 },
            'New Orleans Saints': { wins: 0, losses: 4 },
            'New York Giants': { wins: 1, losses: 3 },
            'New York Jets': { wins: 0, losses: 3 },
            'Philadelphia Eagles': { wins: 4, losses: 0 },
            'Pittsburgh Steelers': { wins: 3, losses: 1 },
            'San Francisco 49ers': { wins: 3, losses: 1 },
            'Seattle Seahawks': { wins: 3, losses: 1 },
            'Tampa Bay Buccaneers': { wins: 3, losses: 1 },
            'Tennessee Titans': { wins: 0, losses: 4 },
            'Washington Commanders': { wins: 2, losses: 2 }
        };

        const currentWeek = 4; // UPDATE THIS EACH WEEK

        // Pool data with team assignments
        let poolData = {
            "David": { teams: ["Cleveland Browns", "New York Giants", "New England Patriots", "Los Angeles Chargers"] },
            "Ryan": { teams: ["Buffalo Bills", "Tampa Bay Buccaneers", "Jacksonville Jaguars", "Green Bay Packers"] },
            "Murtaza": { teams: ["Philadelphia Eagles", "Detroit Lions", "Cincinnati Bengals", "Denver Broncos"] },
            "Jorge": { teams: ["New Orleans Saints", "Pittsburgh Steelers", "Atlanta Falcons", "Minnesota Vikings"] },
            "LT": { teams: ["Tennessee Titans", "Miami Dolphins", "Chicago Bears", "Los Angeles Rams"] },
            "Matt": { teams: ["New York Jets", "Las Vegas Raiders", "Dallas Cowboys", "Houston Texans"] },
            "Jess": { teams: ["Indianapolis Colts", "Carolina Panthers", "Seattle Seahawks", "Arizona Cardinals"] },
            "Daniella": { teams: ["Baltimore Ravens", "Kansas City Chiefs", "Washington Commanders", "San Francisco 49ers"] }
        };

        function calculatePlayerTotals() {
            Object.keys(poolData).forEach(player => {
                let totalWins = 0;
                let totalLosses = 0;
                
                poolData[player].teams.forEach(team => {
                    if (teamRecords[team]) {
                        totalWins += teamRecords[team].wins;
                        totalLosses += teamRecords[team].losses;
                    }
                });
                
                poolData[player].wins = totalWins;
                poolData[player].losses = totalLosses;
            });
        }

        function updateLeaderboardDisplay() {
            // Recalculate player totals based on current team records
            calculatePlayerTotals();
            
            const tbody = document.getElementById('leaderboardBody');
            const statsContainer = document.getElementById('statsContainer');
            
            // Sort players by wins (descending), then by losses (ascending) for ranking
            const sortedByWins = Object.entries(poolData).sort((a, b) => {
                if (b[1].wins !== a[1].wins) {
                    return b[1].wins - a[1].wins; // Higher wins first
                }
                return a[1].losses - b[1].losses; // If tied on wins, fewer losses first
            });
            const sortedByLosses = Object.entries(poolData).sort((a, b) => b[1].losses - a[1].losses);
            
            // Find all players tied for best wins
            const topWins = sortedByWins.length > 0 ? sortedByWins[0][1].wins : 0;
            const bestWinners = sortedByWins.filter(([player, data]) => data.wins === topWins);
            
            // Find all players tied for most losses
            const topLosses = sortedByLosses.length > 0 ? sortedByLosses[0][1].losses : 0;
            const worstWinners = sortedByLosses.filter(([player, data]) => data.losses === topLosses);
            
            // Create lists of tied players
            const bestWinnerNames = bestWinners.map(([name]) => name);
            const worstWinnerNames = worstWinners.map(([name]) => name);
            
            // Update stats - handle ties appropriately
            const bestDisplay = bestWinners.length > 1 ? 
                `${bestWinners.length}-way tie` : (bestWinners[0] ? bestWinners[0][0] : 'No data');
            const worstDisplay = worstWinners.length > 1 ? 
                `${worstWinners.length}-way tie` : (worstWinners[0] ? worstWinners[0][0] : 'No data');
            
            statsContainer.innerHTML = `
                <div class="stat-card">
                    <h3>Leading for BEST</h3>
                    <div class="value" style="font-size: ${bestWinners.length > 1 ? '1.5em' : '2em'}">${bestDisplay}</div>
                    <p>${topWins} wins</p>
                    ${bestWinners.length > 1 ? `<small>${bestWinnerNames.join(', ')}</small>` : ''}
                </div>
                <div class="stat-card">
                    <h3>Leading for WORST</h3>
                    <div class="value" style="font-size: ${worstWinners.length > 1 ? '1.5em' : '2em'}">${worstDisplay}</div>
                    <p>${topLosses} losses</p>
                    ${worstWinners.length > 1 ? `<small>${worstWinnerNames.join(', ')}</small>` : ''}
                </div>
                <div class="stat-card">
                    <h3>Current Week</h3>
                    <div class="value">${currentWeek}</div>
                    <p>of 18</p>
                </div>
            `;
            
            // Update leaderboard table
            tbody.innerHTML = '';
            
            sortedByWins.forEach(([player, data], index) => {
                const row = tbody.insertRow();
                let className = '';
                
                // Check if player is tied for best wins AND worst losses
                const isBestWinner = bestWinnerNames.includes(player);
                const isWorstWinner = worstWinnerNames.includes(player);
                
                if (isBestWinner && isWorstWinner) {
                    className = 'best-winner'; // If tied for both, show as best winner
                } else if (isBestWinner) {
                    className = 'best-winner';
                } else if (isWorstWinner) {
                    className = 'worst-winner';
                }
                
                row.className = className;
                
                row.innerHTML = `
                    <td class="position">${index + 1}</td>
                    <td><strong>${player}</strong></td>
                    <td>${data.wins || 0}</td>
                    <td>${data.losses || 0}</td>
                    <td class="teams-list">${data.teams ? data.teams.join(', ') : 'No teams'}</td>
                `;
            });
        }

        // Initialize immediately
        window.onload = function() {
            updateLeaderboardDisplay();
        };
    </script>
</body>
</html>
